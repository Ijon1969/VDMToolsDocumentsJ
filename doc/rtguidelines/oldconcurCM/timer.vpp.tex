\begin{vdm}{\small\sf class} $Timer$\index{Timer|ModDef}
\par
\kInstanceVarDef
\parlinebr
\begin{insvar}
\assdef{currentTime}{\Nat }[{0}]
\end{insvar}
\begin{insvar}
\assdef{finished}{\Bool }[{\False }]
\end{insvar}
\par
\kOperations
\kw{\kw{public}}\begin{op}[e]{Finished}\index{Finished|FuncDef}%
\signature{() \Oto ()}
\parms{}
\annlab[o]{Timer`Finished}
\ass{finished}{\True }
\end{op}
\kSync

\mutex{StepTime,GetTime}

\kOperations
\kw{\kw{public}}\begin{op}[e]{StepTime}\index{StepTime|FuncDef}%
\signature{() \Oto ()}
\parms{}
\annlab[o]{Timer`StepTime}
\ass{currentTime}{currentTime + stepLength};
\end{op}
\kw{\kw{public}}\begin{op}[e]{GetTime}\index{GetTime|FuncDef}%
\signature{() \Oto \Nat }
\parms{}
\annlab[o]{Timer`GetTime}
\return{currentTime}
\end{op}
\kValues
\val{stepLength}[\Nat ]{\color{not-covered}100\color{covered}}
{\small\sf end} {\it Timer}

\end{vdm}

































\begin{tabular}{p{25mm}l}
{\bf Test Suite :} & vdm.tc \\ 
{\bf Class :} & Timer \\ 
\end{tabular}

\begin{longtable}{|l|r|r|}\hline
{\bf Timer`StepTime} & {\bf \#Calls} & {\bf Coverage} \kill
{\bf Name} & {\bf \#Calls} & {\bf Coverage} \\ \hline\hline
\endhead
Timer`GetTime & 48 & $\surd$ \\ \hline
Timer`Finished & 1 & $\surd$ \\ \hline
Timer`StepTime & 8 & $\surd$ \\ \hline
\hline
{\bf Total Coverage} & & {\bf 100\%} \\ \hline
\end{longtable}

